@model InmobiliariaApp.Models.Propietario

@{
    ViewData["Title"] = "Ingresar Propietario";
}

<!-- Toastr CSS -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.css">
<!-- jQuery y Toastr JS -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.js"></script>

<h1 class="text-center p-3">Ingresar nuevo propietario</h1>

<form asp-action="Insertar">
    <div class="d-flex flex-column gap-2 justify-content-center align-items-center w-50 mx-auto">

        <div class="dni w-100">
            <label asp-for="DNIPropietario" class="form-label">DNI</label>
            <input asp-for="DNIPropietario" class="form-control" placeholder="Ingrese el DNI del propietario" required />
        </div>

        <div class="nombre w-100">
            <label asp-for="Nombre" class="form-label">Nombre</label>
            <input asp-for="Nombre" class="form-control" placeholder="Ingrese el nombre del propietario" required />
        </div>

        <div class="apellido w-100">
            <label asp-for="Apellido" class="form-label">Apellido</label>
            <input asp-for="Apellido" class="form-control" placeholder="Ingrese el apellido del propietario" required />
        </div>

        <div class="celular w-100">
            <label asp-for="Celular" class="form-label">Teléfono</label>
            <input asp-for="Celular" class="form-control" placeholder="Ingrese el teléfono del propietario" required />
        </div>

        <div class="email w-100">
            <label asp-for="Email" class="form-label">Email</label>
            <input asp-for="Email" class="form-control" placeholder="Ingrese el email del propietario" required type="email" />
        </div>

        <div class="w-100 text-center mt-4">
            <input type="submit" value="Crear" class="btn btn-success" />
            <a class="btn btn-primary ms-2" asp-controller="Propietario" asp-action="Listar">Volver al listado</a>
        </div>

    </div>
</form>

<script>
    $(document).ready(function () {
        var mensaje = '@TempData["SuccessMessage"]';
        if (mensaje) {
            toastr.success(mensaje, 'Propietario agregado con éxito', { 
                timeOut: 3000,
                progressBar: true,
                positionClass: 'toast-top-right',
                onHidden: function() { 
                    window.location.href = '@Url.Action("Listar", "Propietario")'; // Redirige cuando termine
                }
            });
        }
    });
</script>